{% extends "base.html" %}
{% load static socialaccount %}  <!-- django-allauth 템플릿 태그 + static 태그 로드 -->

{% block content %}
<div class="container my-3">
    <form method="post" action="{% url 'common:login' %}">
        {% csrf_token %}
        
        <!-- 로그인 후 next 파라미터에 있는 URL로 페이지를 이동 -->
        <input type="hidden" name="next" value="{{ next }}">  

        {% include "form_errors.html" %}

        <div class="mb-3">
            <label for="username">사용자ID</label>
            <input type="text" class="form-control" name="username" id="username"
                   value="{{ form.username.value|default_if_none:'' }}">
        </div>

        <div class="mb-3">
            <label for="password">비밀번호</label>
            <input type="password" class="form-control" name="password" id="password"
                   value="{{ form.password.value|default_if_none:'' }}">
        </div>

        <button type="submit" class="btn btn-primary">로그인</button>

        <!-- SNS 간편 로그인 섹션 -->
        <div class="mt-4 text-center">
            <p class="fw-bold mb-2">SNS 간편 로그인</p>

            <!-- 구글 로그인 아이콘/링크 -->
            <a href="{% provider_login_url 'google' %}">
                <img src="{% static 'images/google_icon.png' %}" alt="Google 로그인" width="40" />
            </a>
            
            
        </div>
    </form>
</div>
{% endblock %}
